# x86_64 Windows COFF basic fixture

This fixture exercises the minimum AMD64 COFF relocation set currently supported by the exporter:

- `.text`: `IMAGE_REL_AMD64_REL32`
- `.data`: `IMAGE_REL_AMD64_ADDR64`

Files:

- `main.c`: source used to build the fixture
- `main.obj`: reference relocatable object file
- `basic.exe`: linked executable imported into Ghidra
- `basic.exe.gzf`: packed Ghidra program used by integration tests

Rebuild commands (from repository root):

```sh
x86_64-w64-mingw32-gcc -c -O0 -fno-ident -fno-asynchronous-unwind-tables -fno-unwind-tables \
	src/test/resources/arch/x86_64_windows/reference/basic/main.c \
	-o src/test/resources/arch/x86_64_windows/reference/basic/main.obj

x86_64-w64-mingw32-gcc -nostdlib -Wl,--entry,entry -Wl,--image-base,0x140000000 \
	-Wl,--file-alignment,0x200 -Wl,--section-alignment,0x1000 \
	src/test/resources/arch/x86_64_windows/reference/basic/main.obj \
	-o src/test/resources/arch/x86_64_windows/reference/basic/basic.exe
```

`basic.exe.gzf` is generated by importing `basic.exe` with `analyzeHeadless` and calling
`currentProgram.getDomainFile().packFile(...)` in a post-processing script.
